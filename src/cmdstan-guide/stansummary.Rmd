# `stansummary`: MCMC Output Analysis {#stansummary}

CmdStan's `stansummary` utility processes one or more output files from a run
or set of runs of Stan's HMC sampler.
For all parameters and quantities of interest in the Stan program,
`stansummary` reports a set of statistics including mean, standard deviation,
percentiles, effective number of samples, and $\hat{R}$ values.

## Building the stansummary Command

The CmdStan makefile task `build` compiles the `stansummary` utility
into the `bin` directory.
It can be compiled directly using the makefile as follows:
```
> cd <cmdstan-home>
> make bin/stansummary
```

## Running the stansummary Command

The `stansummary` utility processes one or more output files from a run
or set of runs of Stan's HMC sampler given a model and data.
For all columns in the Stan csv output file `stansummary` reports a set of statistics
including mean, standard deviation, percentiles, effective number of samples, and $\hat{R}$ values.

To run `stansummary` on the output file or files generated by a run of
the sampler, on Mac or Linux:
```
<cmdstan-home>/bin/stansummary <file_1.csv> ... <file_N.csv>
```
On Windows, use backslashes to call the `stansummary.exe`.
```
<cmdstan-home>\bin\stansummary.exe <file_1.csv> ... <file_N.csv>
```

The values for each  quantity are the posterior means,
standard deviations, and  quantiles, along with Monte-Carlo standard
error, effective sample  size estimates (per second), and convergence
diagnostic statistic.

For Windows, the forward slash in paths need to be converted to
backslashes.

## Command-line Options

The `stansummary` command syntax provides a set of flags to customize the output
which must precede the list of filenames:

- `--sig_figs` - The number of significant figures displayed in the output.
Must be an integer value > 0. The default value is 2.

- `--csv_file` - Writes output to the specified filename in csv format
using `#` for comment lines.  Appends output to the file if it exists.

- `--percentiles` - An string containing an ordered list of integers
in the range (0,100) specifying the percentiles to use in the set of output columns.
Defaults to `"5, 50, 95"`.

- `--autocorr` - 0-based index into the list of filenames used to
display the autocorrelation between all draws in that chain.
For example, for a set of 4 csv files `--autocorr 0`
will output the autocorrelation for chain 1 and `--autocorr 3` will
examine the autocorrelation for chain 4.
No autocorrelation output by default.

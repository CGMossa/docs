<!DOCTYPE html>
<html >

<head>

  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <title>Stan Reference Manual</title>
  <meta name="description" content="Stan reference manual specifying the syntax and semantics of the Stan programming language.">
  <meta name="generator" content="bookdown 0.7 and GitBook 2.6.7">

  <meta property="og:title" content="Stan Reference Manual" />
  <meta property="og:type" content="book" />
  <meta property="og:url" content="http://mc-stan.org/users/documentation" />
  <meta property="og:image" content="http://mc-stan.org/users/documentationimg/logo_tm.png" />
  <meta property="og:description" content="Stan reference manual specifying the syntax and semantics of the Stan programming language." />
  <meta name="github-repo" content="stan-dev/stan" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Stan Reference Manual" />
  <meta name="twitter:site" content="@mc-stan" />
  <meta name="twitter:description" content="Stan reference manual specifying the syntax and semantics of the Stan programming language." />
  <meta name="twitter:image" content="http://mc-stan.org/users/documentationimg/logo_tm.png" />

<meta name="author" content="Stan Development Team">



  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">
  
  
<link rel="prev" href="variable-transforms-chapter.html">
<link rel="next" href="program-execution.html">
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />










<link rel="stylesheet" href="../stan-manual.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li style="font-size:110%; font-weight:400; font-family: Verdana, Helvetica, sans; line-height:1.4; margin: 0.5em 0 0 1em">Stan Reference Manual</li>

<li class="divider"></li>
<li><a href="index.html#overview"><i style="font-size: 110%; padding:1.5em 0 0 0; color:#990017;">Overview</i></a></li>
<li><a href="language.html#language"><i style="font-size: 110%; color:#990017;">Language</i></a></li>
<li class="chapter" data-level="1" data-path="character-encoding.html"><a href="character-encoding.html"><i class="fa fa-check"></i><b>1</b> Character Encoding</a></li>
<li class="chapter" data-level="2" data-path="includes-section.html"><a href="includes-section.html"><i class="fa fa-check"></i><b>2</b> Includes</a></li>
<li class="chapter" data-level="3" data-path="comments-section.html"><a href="comments-section.html"><i class="fa fa-check"></i><b>3</b> Comments</a></li>
<li class="chapter" data-level="4" data-path="whitespace.html"><a href="whitespace.html"><i class="fa fa-check"></i><b>4</b> Whitespace</a></li>
<li class="chapter" data-level="5" data-path="data-types-chapter.html"><a href="data-types-chapter.html"><i class="fa fa-check"></i><b>5</b> Data Types and Declarations</a></li>
<li class="chapter" data-level="6" data-path="expressions.html"><a href="expressions.html"><i class="fa fa-check"></i><b>6</b> Expressions</a></li>
<li class="chapter" data-level="7" data-path="statements.html"><a href="statements.html"><i class="fa fa-check"></i><b>7</b> Statements</a></li>
<li class="chapter" data-level="8" data-path="blocks-chapter.html"><a href="blocks-chapter.html"><i class="fa fa-check"></i><b>8</b> Program Blocks</a></li>
<li class="chapter" data-level="9" data-path="functions-chapter.html"><a href="functions-chapter.html"><i class="fa fa-check"></i><b>9</b> User-Defined Functions</a></li>
<li class="chapter" data-level="10" data-path="variable-transforms-chapter.html"><a href="variable-transforms-chapter.html"><i class="fa fa-check"></i><b>10</b> Constraint Transforms</a></li>
<li class="chapter" data-level="11" data-path="language-syntax.html"><a href="language-syntax.html"><i class="fa fa-check"></i><b>11</b> Language Syntax</a></li>
<li class="chapter" data-level="12" data-path="program-execution.html"><a href="program-execution.html"><i class="fa fa-check"></i><b>12</b> Program Execution</a></li>
<li class="chapter" data-level="13" data-path="deprecated-features-appendix.html"><a href="deprecated-features-appendix.html"><i class="fa fa-check"></i><b>13</b> Deprecated Features</a></li>
<li><a href="algorithms.html#algorithms"><i style="font-size: 110%; color:#990017;">Algorithms</i></a></li>
<li class="chapter" data-level="14" data-path="hmc-chapter.html"><a href="hmc-chapter.html"><i class="fa fa-check"></i><b>14</b> MCMC Sampling</a></li>
<li class="chapter" data-level="15" data-path="analysis-chapter.html"><a href="analysis-chapter.html"><i class="fa fa-check"></i><b>15</b> Posterior Analysis</a></li>
<li class="chapter" data-level="16" data-path="optimization-algorithms-chapter.html"><a href="optimization-algorithms-chapter.html"><i class="fa fa-check"></i><b>16</b> Optimization</a></li>
<li class="chapter" data-level="17" data-path="vi-algorithms-chapter.html"><a href="vi-algorithms-chapter.html"><i class="fa fa-check"></i><b>17</b> Variational Inference</a></li>
<li class="chapter" data-level="18" data-path="diagnostic-algorithms-chapter.html"><a href="diagnostic-algorithms-chapter.html"><i class="fa fa-check"></i><b>18</b> Diagnostic Mode</a></li>
<li><a href="usage.html#usage"><i style="font-size: 110%; color:#990017;">Usage</i></a></li>
<li class="chapter" data-level="19" data-path="reproducibility-chapter.html"><a href="reproducibility-chapter.html"><i class="fa fa-check"></i><b>19</b> Reproducibility</a></li>
<li class="chapter" data-level="20" data-path="licensing-appendix.html"><a href="licensing-appendix.html"><i class="fa fa-check"></i><b>20</b> Licenses and Dependencies</a></li>
<li><a href="references.html#references"><i style="font-size: 110%; color:#990017;">References</i></a></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Stan Reference Manual</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="language-syntax" class="section level1">
<h1><span class="header-section-number">11</span> Language Syntax</h1>
<p>This chapter defines the basic syntax of the Stan modeling language
using a Backus-Naur form (BNF) grammar plus extra-grammatical
constraints on function typing and operator precedence and
associativity.</p>
<div id="bnf-grammars" class="section level2">
<h2><span class="header-section-number">11.1</span> BNF Grammars</h2>
<div id="syntactic-conventions" class="section level3 unnumbered">
<h3>Syntactic conventions</h3>
<p>In the following BNF grammars, literal strings are indicated in
single quotes (<code>'</code>). Grammar non-terminals are unquoted strings.
A prefix question mark (<code>?A</code>) indicates optionality of <code>A</code>.
A postfixed Kleene star (<code>A*</code>) indicates zero or more occurrences
of <code>A</code>. The notation <code>A % B</code>, following the Boost Spirit
parser libraryâ€™s notation, is shorthand for <code>?(A (B A)*)</code>, i.e.,
any number of <code>A</code> (including zero), separated by <code>B</code>. A
postfixed, curly-braced number indicates a fixed number of repetitions;
e.g., <code>A{6}</code> is equivalent to a sequence of six copies of <code>A</code>.</p>
</div>
<div id="programs" class="section level3 unnumbered">
<h3>Programs</h3>
<pre><code>program ::= ?functions ?data ?tdata ?params ?tparams ?model ?generated

functions ::= &#39;functions&#39; function_decls
data ::= &#39;data&#39; var_decls
tdata ::= &#39;transformed data&#39; var_decls_statements
params ::= &#39;parameters&#39; var_decls
tparams ::= &#39;transformed parameters&#39; var_decls_statements
model ::= &#39;model&#39; var_decls_statements
generated ::= &#39;generated quantities&#39; var_decls_statements
function_decls ::= &#39;{&#39; function_decl* &#39;}&#39;
var_decls ::= &#39;{&#39; var_decl* &#39;}&#39;
var_decls_statements ::= &#39;{&#39; var_decl* statement* &#39;}&#39;</code></pre>
</div>
<div id="function-declarations-and-definitions" class="section level3 unnumbered">
<h3>Function declarations and definitions</h3>
<pre><code>function_decl ::= return_type identifier &#39;(&#39; parameter_decl % &#39;,&#39; &#39;)&#39;
                  statement

return_type ::= &#39;void&#39; | unsized_type
parameter_decl ::= ?&#39;data&#39; unsized_type identifier
unsized_type ::= basic_type ?unsized_dims
basic_type ::= &#39;int&#39; | &#39;real&#39; | &#39;vector&#39; | &#39;row_vector&#39; | &#39;matrix&#39;
unsized_dims ::= &#39;[&#39;  &#39;,&#39;*  &#39;]&#39;</code></pre>
<p>### Variable declarations and compound definitions {-}</p>
<pre><code>var_decl ::= var_type variable ?dims ?(&#39;=&#39; expression) &#39;;&#39;

var_type ::= &#39;int&#39; range_constraint
           | &#39;real&#39; constraint
           | &#39;vector&#39; constraint &#39;[&#39; expression &#39;]&#39;
           | &#39;ordered&#39; &#39;[&#39; expression &#39;]&#39;
           | &#39;positive_ordered&#39; &#39;[&#39; expression &#39;]&#39;
           | &#39;simplex&#39; &#39;[&#39; expression &#39;]&#39;
           | &#39;unit_vector&#39; &#39;[&#39; expression &#39;]&#39;
           | &#39;row_vector&#39; constraint &#39;[&#39; expression &#39;]&#39;
           | &#39;matrix&#39; constraint &#39;[&#39; expression &#39;,&#39; expression &#39;]&#39;
           | &#39;cholesky_factor_corr&#39; &#39;[&#39; expression &#39;]&#39;
           | &#39;cholesky_factor_cov&#39; &#39;[&#39; expression ?(&#39;,&#39; expression) &#39;]&#39;
           | &#39;corr_matrix&#39; &#39;[&#39; expression &#39;]&#39;
           | &#39;cov_matrix&#39; &#39;[&#39; expression &#39;]&#39;

constraint ::= range_constraint | &#39;&lt;&#39; loc_scale &#39;&gt;&#39;)

range_constraint ::= ?(&#39;&lt;&#39; range &#39;&gt;&#39;)

range ::= &#39;lower&#39; &#39;=&#39; constr_expression &#39;,&#39; &#39;upper&#39; = constr_expression
        | &#39;lower&#39; &#39;=&#39; constr_expression
        | &#39;upper&#39; &#39;=&#39; constr_expression

loc_scale ::= &#39;location&#39; &#39;=&#39; constr_expression &#39;,&#39; &#39;scale&#39; = constr_expression
            | &#39;location&#39; &#39;=&#39; constr_expression
            | &#39;scale&#39; &#39;=&#39; constr_expression

dims ::= &#39;[&#39;  expressions &#39;]&#39;

variable ::= identifier

identifier ::= [a-zA-Z] [a-zA-Z0-9_]*</code></pre>
</div>
<div id="expressions-1" class="section level3 unnumbered">
<h3>Expressions</h3>
<pre><code>expressions ::= expression % &#39;,&#39;

expression ::= expression `?` expression `:` expression
             | expression infixOp expression
             | prefixOp expression
             | expression postfixOp
             | common_expression

constr_expression ::= constr_expression arithmeticInfixOp constr_expression
                    | prefixOp constr_expression
                    | constr_expression postfixOp
                    | constr_expression &#39;[&#39; indexes &#39;]&#39;
                    | common_expression

common_expression ::= real_literal
                    | variable
                    | &#39;{&#39; expressions &#39;}&#39;
                    | &#39;[&#39; expressions &#39;]&#39;
                    | function_literal &#39;(&#39; ?expressions &#39;)&#39;
                    | function_literal &#39;(&#39; expression ?(&#39;|&#39; expression % &#39;,&#39;) &#39;)&#39;
                    | integrate_ode &#39;(&#39; function_literal (&#39;,&#39; expression){6} &#39;)&#39;
                    | integrate_ode_rk45
                      &#39;(&#39; function_literal (&#39;,&#39; expression){6|9} &#39;)&#39;
                    | integrate_ode_bdf
                      &#39;(&#39; function_literal (&#39;,&#39; expression){6|9} &#39;)&#39;
                    | algebra_solver
                    &#39;(&#39; function_literal (&#39;,&#39; expression){4|7} &#39;)&#39;
                    | &#39;(&#39; expression &#39;)&#39;

prefixOp ::= (&#39;!&#39; | &#39;-&#39; | &#39;+&#39; | &#39;^&#39;)

postfixOp ::= &#39;\&#39;&#39;

infixOp ::= arithmeticInfixOp | logicalInfixOp

arithmeticInfixOp ::= (&#39;+&#39; | &#39;-&#39; | &#39;*&#39; | &#39;/&#39; | &#39;%&#39; | &#39;\&#39; | &#39;.*&#39; | &#39;./&#39;)

logicalInfixOp :: (&#39;||&#39; | &#39;&amp;&amp;&#39; | &#39;==&#39; | &#39;!=&#39; | &#39;&lt;&#39; | &#39;&lt;=&#39; | &#39;&gt;&#39; | &#39;&gt;=&#39;)

index ::= ?(expression | expression &#39;:&#39; | &#39;:&#39; expression
        | expression &#39;:&#39; expression)

indexes ::= index % &#39;,&#39;

integer_literal ::= [0-9]+

real_literal ::= integer_literal &#39;.&#39; [0-9]* ?exp_literal
               | &#39;.&#39; [0-9]+ ?exp_literal
               | integer_literal exp_literal

exp_literal ::= (&#39;e&#39; | &#39;E&#39;) ?(&#39;+&#39; | &#39;-&#39;) integer_literal

function_literal ::= identifier</code></pre>
</div>
<div id="statements-3" class="section level3 unnumbered">
<h3>Statements</h3>
<pre><code>statement ::= atomic_statement | nested_statement

atomic_statement ::=  lhs assignment_op expression &#39;;&#39;
   | expression &#39;~&#39; identifier &#39;(&#39; expressions &#39;)&#39; ?truncation &#39;;&#39;
   | function_literal &#39;(&#39; expressions &#39;)&#39; &#39;;&#39;
   | &#39;increment_log_prob&#39; &#39;(&#39; expression &#39;)&#39; &#39;;&#39;
   | &#39;target&#39; &#39;+=&#39; expression &#39;;&#39;
   | &#39;break&#39; &#39;;&#39;
   | &#39;continue&#39; &#39;;&#39;
   | &#39;print&#39; &#39;(&#39; (expression | string_literal) % &#39;,&#39; &#39;)&#39; &#39;;&#39;
   | &#39;reject&#39; &#39;(&#39; (expression | string_literal) % &#39;,&#39; &#39;)&#39; &#39;;&#39;
   | &#39;return&#39; expression &#39;;&#39;
   | &#39;;&#39;

assignment_op ::= &#39;&lt;-&#39; | &#39;=&#39; | &#39;+=&#39; | &#39;-=&#39; | &#39;*=&#39; | &#39;/=&#39; | &#39;.*=&#39; | &#39;/*=&#39;

string_literal ::= &#39;&quot;&#39; char* &#39;&quot;&#39;

truncation ::= &#39;T&#39; &#39;[&#39; ?expression &#39;,&#39; ?expression &#39;]&#39;

lhs ::= identifier (&#39;[&#39; indexes &#39;]&#39;)*

nested_statement
::=
  | &#39;if&#39; &#39;(&#39; expression &#39;)&#39; statement
    (&#39;else&#39; &#39;if&#39; &#39;(&#39; expression &#39;)&#39; statement)*
    ?(&#39;else&#39; statement)
  | &#39;while&#39; &#39;(&#39; expression &#39;)&#39; statement
  | &#39;for&#39; &#39;(&#39; identifier &#39;in&#39; expression &#39;:&#39; expression &#39;)&#39; statement
  | &#39;for&#39; &#39;(&#39; identifier &#39;in&#39; expression &#39;)&#39; statement
  | &#39;{&#39; var_decl* statement+ &#39;}&#39;</code></pre>
</div>
</div>
<div id="extra-grammatical-constraints" class="section level2">
<h2><span class="header-section-number">11.2</span> Extra-Grammatical Constraints</h2>
<div id="type-constraints" class="section level3 unnumbered">
<h3>Type constraints</h3>
<p>A well-formed Stan program must satisfy the type constraints imposed
by functions and distributions. For example, the binomial
distribution requires an integer total count parameter and integer
variate and when truncated would require integer truncation points.
If these constraints are violated, the program will be rejected during
parsing with an error message indicating the location of the problem.</p>
</div>
<div id="operator-precedence-and-associativity-1" class="section level3 unnumbered">
<h3>Operator precedence and associativity</h3>
<p>In the Stan grammar provided in this chapter, the expression <code>1 + 2 * 3</code> has two parses. As described in the <a href="expressions.html#operator-precedence-table">operator precedence
table</a>, Stan disambiguates between the meaning <span class="math inline">\(1 + (2 \times 3)\)</span> and the meaning <span class="math inline">\((1 + 2) \times 3\)</span> based on operator
precedences and associativities.</p>
</div>
<div id="typing-of-compound-declaration-and-definition" class="section level3 unnumbered">
<h3>Typing of compound declaration and definition</h3>
<p>In a compound variable declaration and definition, the type of the
right-hand side expression must be assignable to the variable being
declared. The assignability constraint restricts compound
declarations and definitions to local variables and variables declared
in the transformed data, transformed parameters, and generated
quantities blocks.</p>
</div>
<div id="typing-of-array-expressions" class="section level3 unnumbered">
<h3>Typing of array expressions</h3>
<p>The types of expressions used for elements in array expressions
(<code>'{' expressions '}'</code>) must all be of the same type or a mixture
of <code>int</code> and <code>real</code> types (in which case the result is
promoted to be of type <code>real</code>).</p>
</div>
<div id="forms-of-numbers" class="section level3 unnumbered">
<h3>Forms of numbers</h3>
<p>Integer literals longer than one digit may not start with 0 and real
literals cannot consist of only a period or only an exponent.</p>
</div>
<div id="conditional-arguments" class="section level3 unnumbered">
<h3>Conditional arguments</h3>
<p>Both the conditional if-then-else statement and while-loop statement
require the expression denoting the condition to be a primitive type,
integer or real.</p>
</div>
<div id="for-loop-containers" class="section level3 unnumbered">
<h3>For loop containers</h3>
<p>The for loop statement requires that we specify in addition to the
loop identifier, either a range consisting of two expressions
denoting an integer, separated by â€˜:â€™, or a single expression denoting
a container. The loop variable will be of type integer in the former case
and of the contained type in the latter case. Furthermore, the loop
variable must not be in scope (i.e., there is no masking of variables).</p>
</div>
<div id="print-arguments" class="section level3 unnumbered">
<h3>Print arguments</h3>
<p>The arguments to a print statement cannot be void.</p>
</div>
<div id="only-break-and-continue-in-loops" class="section level3 unnumbered">
<h3>Only break and continue in loops</h3>
<p>The <code>break</code> and <code>continue</code> statements may only be used
within the body of a for-loop or while-loop.</p>
</div>
<div id="prng-function-locations" class="section level3 unnumbered">
<h3>PRNG function locations</h3>
<p>Functions ending in <code>_rng</code> may only be called in the transformed
data and generated quantities block, and within the bodies of
user-defined functions with names ending in <code>_rng</code>.</p>
</div>
<div id="probability-function-naming" class="section level3 unnumbered">
<h3>Probability function naming</h3>
<p>A probability function literal must have one of the following
suffixes: <code>_lpdf</code>, <code>_lpmf</code>, <code>_lcdf</code>, or <code>_lccdf</code>.</p>
</div>
<div id="algebraic-solver-argument-types-and-origins" class="section level3 unnumbered">
<h3>Algebraic solver argument types and origins</h3>
<p>The <code>algebra_solver</code> function may be used without control
parameters; in this case</p>
<ul>
<li><p>its first argument refers to a function with signature
<code>( vector,  vector, real[], int[]) : vector</code>,</p></li>
<li><p>the remaining four arguments must be assignable to types
<code>vector</code>, <code>vector</code>, <code>real[]</code>, <code>int[]</code>, respectively and</p></li>
<li><p>the fourth and fifth arguments must be expressions
containing only variables originating from the data or transformed
data blocks.</p></li>
</ul>
<p>The <code>algebra_solver</code> function may accept three additional arguments,
which like the second, fourth, and fifth arguments, must be expressions free
of parameter references. The final free arguments must be assignable to types
<code>real</code>, <code>real</code>, and <code>int</code>, respectively.</p>
</div>
<div id="ode-solver-argument-types-and-origins" class="section level3 unnumbered">
<h3>ODE solver argument types and origins</h3>
<p>The <code>integrate_ode</code>, <code>integrate_ode_rk45</code>, and
<code>integrate_ode_bdf</code> functions may be used without control
parameters; in this case</p>
<ul>
<li><p>its first argument to refer to a function with signature
<code>(real, real[], real[], real[], int[]) : real[]</code>,</p></li>
<li><p>the remaining six arguments must assignable to types
<code>real[]</code>, <code>real</code>, <code>real[]</code>, <code>real[]</code>, <code>real[]</code>, and <code>int[]</code>,
respectively, and</p></li>
<li><p>the third, fourth, and sixth arguments must be expressions not
containing any variables not originating in the data or transformed
data blocks.</p></li>
</ul>
<p>The <code>integrate_ode_rk45</code> and <code>integrate_ode_bdf</code>
functions may accept three additional arguments, which like the third,
fourth, and sixth arguments, must be expressions free of parameter
references. The final three arguments must be assignable to types
<code>real</code>, <code>real</code>, and <code>int</code>, respectively.</p>
</div>
<div id="indexes" class="section level3 unnumbered">
<h3>Indexes</h3>
<p>Standalone expressions used as indexes must denote either an integer
(<code>int</code>) or an integer array (<code>int[]</code>). Expressions
participating in range indexes (e.g., <code>a</code> and <code>b</code> in
<code>a : b</code>) must denote integers (<code>int</code>).</p>
<p>A second condition is that there not be more indexes provided than
dimensions of the underlying expression (in general) or variable (on
the left side of assignments) being indexed. A vector or row vector
adds 1 to the array dimension and a matrix adds 2. That is, the type
<code>matrix[ , , ]</code>, a three-dimensional array of matrices, has five
index positions: three for the array, one for the row of the matrix
and one for the column.</p>

</div>
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="variable-transforms-chapter.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="program-execution.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": null,
"fontsettings": {
"theme": "white",
"family": "serif",
"size": 2
},
"edit": null,
"download": null,
"toc": {
"collapse": "section",
"scroll_highlight": true
},
"search": false,
"toolbar": {
"position": "static"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://cdn.bootcss.com/mathjax/2.7.1/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:" && /^https?:/.test(src))
      src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
